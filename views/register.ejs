<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="/assets/favicon/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/main.css">
  <title>Chatzor | Register</title>
</head>
<body>
	<main>
		<div class="logo"><img src="assets/logo/logo.svg" alt="Chatzor logo"></div>
		<h1>Login to Chatzor</h1>
		<h5>Already got an account? <a href="login">Login</a></h5>
		<form action="register" method="post">
			<div class="handle-status" type></div>
			<input type="text" name="username" id="username" placeholder="Username" autocomplete="on" required>
			<input type="email" name="email" id="email" placeholder="Email" autocomplete="on" required>
			<input type="password" name="password" id="password" placeholder="Password" required>
			<input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm password" required>
			<button type="submit" button-style="slide">Register</button>
		</form>
	</main>

	<script>
    function displayStatus() {
			const statusDiv = document.querySelector("main .handle-status");
      const urlParams = new URLSearchParams(window.location.search);
      const success = urlParams.get("success");
      const error = urlParams.get("error");

      if (success) {statusDiv.setAttribute("type", "success"); statusDiv.textContent = success;}
      if (error) {statusDiv.setAttribute("type", "error"); statusDiv.textContent = error;}
    }
    window.onload = displayStatus;
	</script>
</body>
</html>
